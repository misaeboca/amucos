
<script src="<?= BASE_ASSET; ?>/js/jquery.hotkeys.js"></script>
<script type="text/javascript">
//This page is a result of an autogenerated content made by running test.html with firefox.
function domo(){
 
   // Binding keys
   $('*').bind('keydown', 'Ctrl+e', function assets() {
      $('#btn_edit').trigger('click');
       return false;
   });

   $('*').bind('keydown', 'Ctrl+x', function assets() {
      $('#btn_back').trigger('click');
       return false;
   });
    
}


jQuery(document).ready(domo);
</script>
<!-- Content Header (Page header) -->
<section class="content-header">
   <h1>
      Amuco Suppliers      <small><?= cclang('detail', ['Amuco Suppliers']); ?> </small>
   </h1>
   <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
      <li class=""><a  href="<?= site_url('administrator/amuco_suppliers'); ?>">Amuco Suppliers</a></li>
      <li class="active"><?= cclang('detail'); ?></li>
   </ol>
</section>
<!-- Main content -->
<section class="content">
   <div class="row" >
      <div class="col-md-12">
         <div class="box box-warning">
            <div class="box-body ">
               <div class="col-md-12">
                  <div class="box box-widget widget-user">
                     <div class="widget-user-header " style="background: url('<?= BASE_ASSET; ?>admin-lte/dist/img/photo1.png') center center;">
                        <h3 class="widget-user-username text-white" style="margin-left:1%"><?= _ent(ucwords($amuco_suppliers->name)); ?></h3>
                        <h5 class="widget-user-desc text-white" style="margin-left:1.2%"><?= ' ID: '._ent($amuco_suppliers->id); ?></h5>
                     </div>
                     <div class="widget-user-image">
                        <img class="img-circle" src="<?= BASE_URL.'uploads/user/'.(!empty($amuco_suppliers->avatar) ? $amuco_suppliers->avatar:'default.png'); ?>" alt="User Avatar" style="height: 80px; width: 80px" >
                     </div>
                     <div class="box-footer">         
                     <!-- /.row -->
                     </div>
                  </div>     
               </div>
               <div class="nav-tabs-custom padding-left-0 tab-page ">
                  <ul class="nav nav-tabs">
                     <li class="active"><a class=" active tab_animation" href="#tab_1" data-toggle="tab"><i class="fa fa-gear text-green"></i> Information</a></li>
                     <li><a class=" active btn-form-preview tab_animation" href="#tab_2" data-toggle="tab"><i class="fa fa-user"></i> Contacts</a></li>
                     <li><a class=" active btn-form-preview tab_animation" href="#tab_3" data-toggle="tab"><i class="fa fa-sticky-note"></i> Visits</a></li>
                     <li><a class=" active btn-form-preview tab_animation" href="#tab_4" data-toggle="tab"><i class="fa fa-circle"></i> Classification</a></li>
                     <li><a class=" active btn-form-preview tab_animation" href="#tab_5" data-toggle="tab"><i class="fa fa-bank"></i> Bank</a></li>
                  </ul>
                  <div class="tab-content">
                     <div class="tab-pane rest-page-test active" id="tab_1" style="margin-top:20px;">
                        <div class="col-md-6">
                           <div class="box box-widget widget-user-2">
                              <!-- Add the bg color to the header using any of the bg-* classes -->
                              <div class="">
                                 <h3 class="">Details Supplier</h3>
                              </div>
                              <div class="box-footer no-padding">
                                 <ul class="nav nav-stacked">
                                    <li><a href="#"><i class='fa fa-shield color-orange'></i> <?= cclang('status'); ?> 
                                       <?php if ($amuco_suppliers->active) :?>
                                          <span class="pull-right badge bg-green">Yes</span></a>
                                       <?php else: ?>
                                          <span class="pull-right badge bg-red">No</span></a>
                                       <?php endif; ?>
                                    </li>
                                    <li><a href="#"> Code <span class="pull-right "><?= _ent($amuco_suppliers->supplier_code); ?></span></a></li>
         
                                    <li><a  href="mailto:<?= _ent($amuco_suppliers->email); ?>" > EMAIL <span style="color:blue" class="pull-right "><?= _ent($amuco_suppliers->email); ?></span></a></li>
                                    <li><a href="<?= _ent($amuco_suppliers->url); ?>" target="_blank"> URL <span style="color:blue" class="pull-right "><?= _ent($amuco_suppliers->url); ?></span></a></li>
                                    <li><a href="#"> Classification <span class="pull-right "><?= join_multi_select($amuco_suppliers->classification_id, 'amuco_classification_suppliers', 'id', 'name'); ?></span></a> </li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <div class="box box-widget widget-user-2">
                              <div class="">
                                 <h3 class="">Location Information</h3>
                              </div>
                              <div class="box-footer no-padding">
                                 <ul class="nav nav-stacked">

                                    <li><a href="#"> Country <span class="pull-right "> <?= _ent($amuco_suppliers->amuco_countries_name); ?></span></a></li>
                                    <li><a href="#"> City <span class="pull-right "><?= _ent($amuco_suppliers->city); ?></span></a></li>
                                    <li><a href="#"> State/Province <span class="pull-right "><?= _ent($amuco_suppliers->state); ?></span></a></li>
                                    <li><a href="#"> Address <span class="pull-right "><?= _ent($amuco_suppliers->address); ?></span></a></li>
                                    <li><a href="#"> Postal Code <span class="pull-right "><?= _ent($amuco_suppliers->postal_code); ?></span></a></li>
                                    <li><a href="#"> Mobile Phone <span class="pull-right "><?= _ent($amuco_suppliers->mobile_phone); ?></span></a></li>
                                    <li><a href="#"> Office Phone <span class="pull-right "><?= _ent($amuco_suppliers->office_phone); ?></span></a></li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                      
                     </div> 

                     <div class="tab-pane" id="tab_2">
                        <div class="col-md-12">
                           <div class="">
                              <h3 class="">Contacts</h3>
                           </div>
                           <div>
                              <button type="button" class="btn btn-flat btn-success btn_add_new" data-toggle="modal" data-target="#modal-contact"> Add New Contact</button>
                           </div>
                           <?php if(isset($supplier_contacts) && is_array($supplier_contacts) && count($supplier_contacts) > 0):?>
                        
                           <?php foreach($supplier_contacts as $contact):?>
                           
                              <div class="col-12 col-sm-4 col-md-3 d-flex align-items-stretch">
                                 <div class="card bg-light">
                                    <div class="card-header text-muted border-bottom-0">
                                 
                                    </div>
                                    <div class="card-body pt-0">
                                       <div class="row">
                                          <div class="col-7">
                                             <h2 class="lead"><b><?php echo $contact->name;?></b></h2>
                                             <p class="text-muted text-sm"><b>About: </b> <?php echo $contact->department.'/'.$contact->position;?><br>
                                                email: <?php echo $contact->email;?> </p>
                                             <ul class="ml-4 mb-0 fa-ul text-muted">
                                             <li class="small"><span class="fa-li"><i class="fa fa-lg fa-building"></i></span> Country/city: <?php echo $contact->country.' /'.$contact->city?></li>
                                             <li class="small"><span class="fa-li"><i class="fa fa-lg fa-building"></i></span> Address: <?php echo $contact->home_address ;?></li>
                                             <li class="small"><span class="fa-li"><i class="fa fa-lg fa-phone"></i></span> Phone #: <?php echo $contact->office_phone != null ? $contact->office_phone : 'N/A' ; ?></li>
                                             <li class="small"><span class="fa-li"><i class="fa fa-lg fa-phone"></i></span> Mobile Phone #: <?php echo $contact->mobile_phone != null ? $contact->mobile_phone : 'N/A' ; ?></li>
                                             </ul>
                                          </div>
                                          <div class="col-5" style="margin-left:15%">
                                             <img src="../../dist/img/user1-128x128.jpg" alt="" class="img-circle img-fluid">
                                             <a href="" ><?php  echo anchor('administrator/amuco_contacts/view/'.$contact->id.'?popup=show',' <i class="fa fa-user"></i> View', ['class' => 'popup-view']); ?>
                                             <a data-id="<?= $contact->id; ?>" 
                                                            data-active ="<?= $contact->active; ?>"
                                                            data-first_name ="<?= $contact->first_name; ?>"
                                                            data-last_name ="<?= $contact->last_name; ?>"
                                                            data-name ="<?=$contact->first_name.' '.$contact->last_name; ?>"
                                                            data-department ="<?= $contact->department ?>"
                                                            data-position ="<?= $contact->position ?>"
                                                            data-address ="<?= $contact->home_address; ?>"
                                                            data-office_phone ="<?= $contact->office_phone; ?>"
                                                            data-mobile_phone ="<?= $contact->mobile_phone; ?>"
                                                            data-personal_phone ="<?= $contact->personal_phone; ?>"
                                                            data-email ="<?= $contact->email; ?>"
                                                            data-skype ="<?= $contact->skype; ?>"
                                                            data-products_line ="<?= $contact->line_products; ?>"
                                                            data-country ="<?= $contact->country; ?>"
                                                            data-city ="<?= $contact->city; ?>"
                                                            data-birthday ="<?= $contact->birthday; ?>"
                                                            data-additional_information ="<?= $contact->additional_information; ?>"
                                                            
                                                         name="update-contact" id="update-contact<?= $contact->id ?>" href="javascript:void(0);" class="label-default update-contact"><i class="fa fa-edit "></i> <?= cclang('Update'); ?></a>
                                                    
                                               
                                          </div>
                                       </div>
                                    </div>
                                    <div class="card-footer">
                                       <div class="text-center">
                                         
                                             
                                          </a>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                          
                           <?php endforeach; else: ?>
                           <label> Customer does not have contacts</label>
                          
                           <?php   endif;?>
                        </div> 
                     </div> 
                  
                     <div class="tab-pane" id="tab_3">
                        <div class="col-md-12">
                           <div class="box box-warning">
                              <div class="box-body ">
                                 <!-- Widget: user widget style 1 -->
                                 <div class="box box-widget widget-user-2">
                                    <!-- Add the bg color to the header using any of the bg-* classes -->
                                    <div class="widget-user-header ">
                                    <h3 ><?= cclang('amuco visits') ?></h3>
                                       <div >
                                          <?php is_allowed('amuco_visits_add', function(){?>
                                          <a class="btn btn-flat btn-success btn_add_new"  data-toggle="modal" data-target="#modal-visit" title="<?= cclang('add_new_button', [cclang('amuco_visits')]); ?>  (Ctrl+a)"  ?><i class="fa fa-plus-square-o" ></i> <?= cclang('add_new_button'); ?> Visit</a>
                                          <?php }) ?>
                                         
                                       </div>
                     
                                       <!-- /.widget-user-image -->
                                       
                                      
                                    </div>

                                    <form name="form_amuco_visits" id="form_amuco_visits" action="<?= base_url('administrator/amuco_visits/index'); ?>">
                                    

                                       <div class="table-responsive"> 
                                          <table class="table table-bordered table-striped dataTable">
                                             <thead>
                                                <tr class="">
                                                   
                                                   <th data-field="id"data-sort="1" data-primary-key="1"> <?= cclang('id') ?></th>
                                                   <th data-field="user_id"data-sort="1" data-primary-key="0"> <?= cclang('User') ?></th>
                                                   <!--th data-field="customer_id"data-sort="1" data-primary-key="0"> <?= cclang('Supplier') ?></th-->
                                                   <th data-field="date_visit"data-sort="1" data-primary-key="0"> <?= cclang('date Visit') ?></th>
                                                   <th data-field="contact_name"data-sort="1" data-primary-key="0"> <?= cclang('Contact Name') ?></th>
                                                   <th data-field="subject"data-sort="1" data-primary-key="0"> <?= cclang('Subject') ?></th>
                                                   <th>Action</th>                        
                                                </tr>
                                             </thead>
                                             <tbody id="tbody_amuco_visits">
                                                <?php foreach($supplier_visits as $amuco_visits): ?>
                                                <tr>
                                                                     
                                                                        
                                                   <td><?= _ent($amuco_visits->id); ?></td> 
                                                   <td><?php if  ($amuco_visits->user_id) {

                                                       echo anchor('administrator/aauth_users/view/'.$amuco_visits->user_id.'?popup=show', $amuco_visits->aauth_users_username, ['class' => 'popup-view']); }?> </td>
                                             
                                                   <td><?= _ent($amuco_visits->date_visit); ?></td> 
                                                   <td><?php if  ($amuco_visits->contact_name) {

                                                   echo anchor('administrator/amuco_contacts/view/'.$amuco_visits->contact_name.'?popup=show', $amuco_visits->amuco_contacts_name, ['class' => 'popup-view']); }?> </td>
                                                   <td><?= _ent($amuco_visits->subject); ?></td> 
                                                   <td width="200">
                                             
                                                                              <?php is_allowed('amuco_visits_view', function() use ($amuco_visits){?>
                                                     
                                                   <?= anchor('administrator/amuco_visits/view/'.$amuco_visits->id.'?popup=show','<i class="fa fa-newspaper-o">View</i> ', ['class' => 'popup-view']); ?>
                                                   <?php }) ?>
                                                   <?php is_allowed('amuco_visits_update', function() use ($amuco_visits){?>
                                                   <!--a href="<?= site_url('administrator/amuco_visits/edit/' . $amuco_visits->id); ?>" class="label-default"><i class="fa fa-edit "></i> <?= cclang('update_button'); ?></a-->
                                                   <a data-id="<?= $amuco_visits->id; ?>" 
                                                            data-supplier ="<?= $amuco_visits->supplier_id; ?>"
                                                            data-user ="<?=$amuco_visits->user_id; ?>"
                                                        
                                                            data-contact_name ="<?= $amuco_visits->contact_name ?>"
                                                            data-date_visit ="<?= $amuco_visits->date_visit ?>"
                                                            data-subject ="<?= $amuco_visits->subject; ?>"
                                                            data-notes ="<?= $amuco_visits->notes; ?>"
                                                            data-type ="<?= $amuco_visits->type_visit; ?>"
                                                            
                                                          id="update-visit" href="javascript:void(0);" class="label-default"><i class="fa fa-edit "></i> <?= cclang('update_button'); ?></a>
                                                    
                                                   <?php }) ?>
                                                   <?php is_allowed('amuco_visits_delete', function() use ($amuco_visits){?>
                                                   <a href="javascript:void(0);" data-href="<?= site_url('administrator/amuco_visits/delete/' . $amuco_visits->id); ?>" class="label-default remove-data"><i class="fa fa-close"></i> <?= cclang('remove_button'); ?></a>
                                                   <?php }) ?>

                                                   </td>                        
                                                </tr>
                                                <?php endforeach; ?>
                                                <?php if (count($supplier_visits) == 0) :?>
                                                   <tr>
                                                      <td colspan="100">
                                                      Amuco Visits data is not available
                                                      </td>
                                                   </tr>
                                                <?php endif; ?>

                                             </tbody>
                                          </table>
                                       </div>
                                    </div>
                                    <hr>
                                    <!-- /.widget-user -->
                                    <div class="row">
                                       </form>                 
                                        <div class="col-md-4">
                                          <div class="dataTables_paginate paging_simple_numbers pull-right" id="example2_paginate" >
                                             <?= $pagination; ?>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>  
                        </div>
                    
                     <div class="tab-pane" id="tab_4">
                        <div class="col-md-12">
                           <div class="">
                              <h3 class="">Classification</h3>
                           </div>
                           <!--div>
                              <button type="button" class="btn btn-flat btn-success btn_add_new" data-toggle="modal" data-target="#modal-contact"> Add New Contact</button>
                           </div-->
                           
                           <div class="row">
                              
                              <div class="col-sm-4">
                                 <!--label for="classification_id" class="col-sm-2 control-label">Classification  </label-->
                                 <select  class="form-control chosen chosen-select" name="classification_id[]" id="classification_id" data-placeholder="Select Classification Id" multiple >
                                    <option value=""></option>
                                    <?php foreach (db_get_all_data('amuco_classification_suppliers') as $row): ?>
                                    <option <?=  in_array($row->id, explode(',', $amuco_suppliers->classification_id)) ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                                    <?php endforeach; ?>  
                                 </select>
                                 <small class="info help-block"></small>
                              </div>
                              <div class="col-sm-2">
                              
                                 <button type="button"  class="btn btn-flat btn-primary  btn_action" id="btn_classification" name="btn_classification" value="Update">Save</button>
                              </div>
                            
                              <div class="col-md-6"></div>
                           <br>
                           </div>
                           <br>
                          
                           <div class="row">
                              <div class="col-md-6" style="display:block">
                                 <div class="box box-widget widget-user-2">
                                    <div class="box-footer no-padding">
                                       
                                       <?php  foreach($supplier_classification as $item ) {
                                                echo '<ul class="nav nav-stacked">';
                                                echo  '<li><label>'. $item->name. '</label>';
                                                if( in_array($item->id, $current_classification) ){
                                                      echo '<span class="pull-right "><i id=opt'.$item->id.' class="fa fa-check color-blue"></i></span>';
                                                }else{
                                                   echo '<span class="pull-right "><i id=opt'.$item->id.' class="fa fa-close color-red"></i></span>';
                                                }
                                                
                                                   
                                                }      
                                       ?>
                                                      </li><br></ul>
                                                
                                                   
                                          

                                    </div>
                                 </div>
                              </div> 
                           </div> 


            
                           <?php    if(count($current_classification) > 0):?> 
                           <label> Supplier does not have classification</label>
                           
                           <?php   endif;?>

                           <div style="display:none">
                              <?= form_open(base_url('administrator/amuco_suppliers/edit_save/'.$this->uri->segment(4)), [
                              'name'    => 'form_amuco_suppliers_update', 
                              'class'   => 'form-horizontal form-step', 
                              'id'      => 'form_amuco_suppliers_update', 
                              'method'  => 'POST'
                              ]); ?>
                              <div class="form-group ">
                                 <label for="name" class="col-sm-2 control-label">id 
                                 <i class="required">*</i>
                                 </label>
                                 <div class="col-sm-8">
                                    <input type="text" class="form-control" name="name" id="id" placeholder="id" value="<?= set_value('id', $amuco_suppliers->id); ?>">
                                    <small class="info help-block">
                                    <b>Input Name</b> Max Length : 100.</small>
                                 </div>
                              </div>
                              <div class="form-group ">
                                 <!--label for="classification_id" class="col-sm-2 control-label">Classification  </label-->
                                 <select  class="form-control chosen chosen-select" name="classification_id_hide[]" id="classification_id_hide" data-placeholder="Select Classification Id" multiple >
                                    <option value=""></option>
                                    <?php foreach (db_get_all_data('amuco_classification_suppliers') as $row): ?>
                                    <option <?=  in_array($row->id, explode(',', $amuco_suppliers->classification_id)) ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                                    <?php endforeach; ?>  
                                 </select>
                                 <small class="info help-block"></small>
                              </div>
                           
                              <?= form_close(); ?>
                           </div>   
                        </div> 
                     </div> 
                     <div class="tab-pane" id="tab_5">
                     
                      
                           <div class="box box-warning">
                              <div class="box-body ">
                                 <!-- Widget: user widget style 1 -->
                                 <div class="box box-widget widget-user-2">
                                    <!-- Add the bg color to the header using any of the bg-* classes -->
                                    <div class="widget-user-header ">
                                       <h3 ><?= cclang('Supplier Bank') ?></h3>
                                       <div >
                                       
                                          <a class="btn btn-flat btn-success btn_add_new"  data-toggle="modal" data-target="#modal-bank" title="<?= cclang('add_new_button', [cclang('amuco_supplier_bank')]); ?>  (Ctrl+a)"  ?><i class="fa fa-plus-square-o" ></i> <?= cclang('add_new_button'); ?> Bank </a>
                                        
                                       </div>
                                    </div>
                               
                                    <form name="form_amuco_bank" id="form_amuco_bank" action="<?= base_url('administrator/amuco_suppliers_bank/index'); ?>">
                                    <div class="table-responsive"> 
                                       <table class="table table-bordered table-striped dataTable">
                                          <thead>
                                             <tr class="">
                                                <th style="display:none" data-field="id"data-sort="1" data-primary-key="1"> <?= cclang('id') ?></th>
                                                <th style="display:none" ><input type="checkbox" class="flat-red toltip" id="check_all" name="check_all" title="check all"></th>
                                                <th data-field="supplier_id"data-sort="1" data-primary-key="0"> <?= cclang('supplier_id') ?></th>
                                                <th data-field="beneficiary_wires"data-sort="1" data-primary-key="0"> <?= cclang('beneficiary_wires') ?></th>
                                                <th data-field="beneficiary_bank"data-sort="1" data-primary-key="0"> <?= cclang('beneficiary_bank') ?></th>
                                                <th data-field="intermediary_bank"data-sort="1" data-primary-key="0"> <?= cclang('intermediary_bank') ?></th>
                                                <th>Action</th>                              
                                             </tr>
                                          </thead>
                                          <tbody id="tbody_amuco_visits">
                                             <?php foreach($amuco_suppliers_bank as $amuco_banks): ?>
                                             <tr>
                                                <td style="display:none" width="5"><input type="checkbox" class="flat-red check" name="id[]" value="<?= $amuco_banks->id; ?>"></td>
                                                <td><?php if  ($amuco_banks->supplier_id) {
                                                   echo anchor('administrator/amuco_suppliers/view/'.$amuco_banks->supplier_id.'?popup=show', $amuco_banks->amuco_suppliers_name, ['class' => 'popup-view']); }?> </td>
                                                <td><?= _ent($amuco_banks->beneficiary_wires); ?></td> 
                                                <td><?= _ent($amuco_banks->beneficiary_bank); ?></td> 
                                                <td><?= _ent($amuco_banks->intermediary_bank); ?></td> 
                                                <td width="200">
                                                   <?php is_allowed('amuco_suppliers_bank_view', function() use ($amuco_banks){?>
                                                      <?php echo '<i class="fa fa-newspaper-o">'. anchor('administrator/amuco_suppliers_bank/view/'.$amuco_banks->id.'?popup=show','View', ['class' => 'popup-view']); }) ?> 
                                                      
                                                      <?php is_allowed('amuco_suppliers_bank_update', function() use ($amuco_banks){?>
                                                         <a data-id="<?= $amuco_banks->id; ?>" 
                                                            data-supplier ="<?= $amuco_banks->id; ?>"
                                                            data-beneficiary_wires ="<?= $amuco_banks->beneficiary_wires; ?>"
                                                            data-beneficiary_bank ="<?= $amuco_banks->beneficiary_wires; ?>"
                                                            data-beneficiary_account ="<?= $amuco_banks->account_number; ?>"
                                                            data-beneficiary_swift ="<?= $amuco_banks->switf; ?>"
                                                            data-intermediary_account ="<?= $amuco_banks->account_intermediary; ?>"
                                                            data-intermediary_bank ="<?= $amuco_banks->intermediary_bank; ?>"
                                                            data-intermediary_swift ="<?= $amuco_banks->swift_intermediary; ?>"
                                                          id="update-bank" href="javascript:void(0);" class="label-default"><i class="fa fa-edit "></i> <?= cclang('update_button'); ?></a>
                                                      <!--a href="<?=  site_url('administrator/amuco_suppliers_bank/edit/' . $amuco_banks->id); ?>" class="label-default"><i class="fa fa-edit "></i> <?= cclang('update_button'); ?></a-->
                                                      <?php }) ?>
                                                      <?php is_allowed('amuco_suppliers_bank_delete', function() use ($amuco_banks){?>
                                                      <a href="javascript:void(0);" data-href="<?= site_url('administrator/amuco_suppliers_bank/delete/' . $amuco_banks->id); ?>" class="label-default remove-data"><i class="fa fa-close"></i> <?= cclang('remove_button'); ?></a>
                                                      <?php }) ?>
                                                </td>                        
                                             </tr>
                                             <?php endforeach; ?>
                                             <?php if (count($amuco_suppliers_bank) == 0) :?>
                                             <tr>
                                                <td colspan="100">
                                                   Amuco Banks data is not available
                                                </td>
                                             </tr>
                                                <?php endif; ?>
                                          </tbody>
                                       </table>
                                    </div>
                                    </form> 
                                 </div>
                                 <hr>
                                   
                                 <div class="row">
                                    <div class="col-md-4">
                                       <div class="dataTables_paginate paging_simple_numbers pull-right" id="example2_paginate" >
                                          <?= $pagination; ?>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>  
                    
                     
                  </div> 
               </div> 
               <div class="row-fluid col-md-12" style="top:15px" id="btn_update_data">
                        <?php is_allowed('amuco_suppliers_update', function() use ($amuco_suppliers){?>
                               
                        <a   data-toggle="modal" data-target="#modal-supplier-update" title="<?= cclang('update_button', [cclang('amuco_supplier')]) ?>"  class="btn btn-flat btn-success btn_update" > <i class="fa fa-plus-square-o" ></i> <?= cclang('Update Amuco') ?> Supplier  </a>
                    
                        <!--a class="btn btn-flat btn-info btn_edit btn_action" id="btn_edit" data-stype='back' title="edit amuco_suppliers (Ctrl+e)" href="<?= site_url('administrator/amuco_suppliers/edit/'.$amuco_suppliers->id); ?>"><i class="fa fa-edit" ></i> <?= cclang('update', ['Amuco Suppliers']); ?> </a-->
                        <?php }) ?>
                        <a class="btn btn-flat btn-default btn_action" id="btn_back" title="back (Ctrl+x)" href="<?= site_url('administrator/amuco_suppliers/'); ?>"><i class="fa fa-undo" ></i> <?= cclang('go_list_button', ['Amuco Suppliers']); ?></a>      
               </div>
            
            </div>
         </div>
         <br>
          <br>
      </div>
   </div>
</section>

<section>
   <div class="modal fade" id="modal-supplier-update">
      <div class="modal-dialog modal-lg">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="row" >
                  <div class="box box-warning">
                     <div class="box-body ">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user-2">
                           <!-- Add the bg color to the header using any of the bg-* classes -->
                           <div class="widget-user-header ">
                              <div class="widget-user-image">
                                 <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                              </div>
                              <!-- /.widget-user-image -->
                              <h3 class="widget-user-username">Amuco Supplier</h3>
                              <h5 class="widget-user-desc"><?= cclang('Edit', ['Amuco Suppliers']); ?></h5>
                             
                           </div>
                        </div>
                     <div> 
                     <?= form_open(base_url('administrator/amuco_suppliers/edit_save/'.$this->uri->segment(4)), [
                           'name'    => 'form_amuco_suppliers_update_data', 
                           'class'   => 'form-horizontal form-step', 
                           'id'      => 'form_amuco_suppliers_update_data', 
                           'method'  => 'POST'
                     ]); ?>
                         
                     <div class="form-group ">
                        <label for="name" class="col-sm-2 control-label">Name 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="name" id="name_update" placeholder="Name" value="<?= set_value('name', $amuco_suppliers->name); ?>">
                           <small class="info help-block">
                           <b>Input Name</b> Max Length : 100.</small>
                        </div>
                     </div>
                     <div class="form-group ">
                        <label for="active" class="col-sm-2 control-label">Active 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <select  class="form-control chosen chosen-select" name="active" id="active_update" data-placeholder="Select Active" >
                              <option value=""></option>
                              <option <?= $amuco_suppliers->active == "0" ? 'selected' :''; ?> value="0">Inactive</option>
                              <option <?= $amuco_suppliers->active == "1" ? 'selected' :''; ?> value="1">Active</option>
                              </select>
                           <small class="info help-block">
                           </small>
                        </div>
                     </div>
                                                 
                     <!--div class="form-group ">
                        <label for="active" class="col-sm-2 control-label">Active 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="active" id="active" placeholder="Active" value="<?= set_value('active', $amuco_suppliers->active); ?>">
                           <small class="info help-block">
                           <b>Input Active</b> Max Length : 1.</small>
                        </div>
                     </div-->
                                                 
                     <div class="form-group ">
                        <label for="supplier_code" class="col-sm-2 control-label">Supplier Code 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="supplier_code" id="supplier_code_update" placeholder="Supplier Code" value="<?= set_value('supplier_code', $amuco_suppliers->supplier_code); ?>">
                           <small class="info help-block">
                           <b>Input Supplier Code</b> Max Length : 50.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="country" class="col-sm-2 control-label">Country 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <select  class="form-control chosen chosen-select-deselect" name="country" id="country" data-placeholder="Select Country" >
                              <option value=""></option>
                              <?php foreach (db_get_all_data('amuco_countries') as $row): ?>
                              <option <?=  $row->id ==  $amuco_suppliers->country ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                              <?php endforeach; ?>  
                           </select>
                           <small class="info help-block">
                           <b>Input Country</b> Max Length : 10.</small>
                        </div>
                     </div>

                     <div class="form-group ">
                        <label for="state" class="col-sm-2 control-label">State 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="state" id="state" placeholder="State" value="<?= set_value('state', $amuco_suppliers->state); ?>">
                           <small class="info help-block">
                           <b>Input State</b> Max Length : 100.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="city" class="col-sm-2 control-label">City 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="city" id="city" placeholder="City" value="<?= set_value('city', $amuco_suppliers->city); ?>">
                           <small class="info help-block">
                           <b>Input City</b> Max Length : 100.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="address" class="col-sm-2 control-label">Address 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="address" id="address" placeholder="Address" value="<?= set_value('address', $amuco_suppliers->address); ?>">
                           <small class="info help-block">
                           <b>Input Address</b> Max Length : 100.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="postal_code" class="col-sm-2 control-label">Postal Code 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="postal_code" id="postal_code" placeholder="Postal Code" value="<?= set_value('postal_code', $amuco_suppliers->postal_code); ?>">
                           <small class="info help-block">
                           <b>Input Postal Code</b> Max Length : 30.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="url" class="col-sm-2 control-label">Url 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="url" id="url" placeholder="Url" value="<?= set_value('url', $amuco_suppliers->url); ?>">
                           <small class="info help-block">
                           <b>Input Url</b> Max Length : 100.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="email" class="col-sm-2 control-label">Email 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="email" id="email" placeholder="Email" value="<?= set_value('email', $amuco_suppliers->email); ?>">
                           <small class="info help-block">
                           <b>Input Email</b> Max Length : 100.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="mobile_phone" class="col-sm-2 control-label">Mobile Phone 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="mobile_phone" id="mobile_phone" placeholder="Mobile Phone" value="<?= set_value('mobile_phone', $amuco_suppliers->mobile_phone); ?>">
                           <small class="info help-block">
                           <b>Input Mobile Phone</b> Max Length : 30.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="office_phone" class="col-sm-2 control-label">Office Phone 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="office_phone" id="office_phone" placeholder="Office Phone" value="<?= set_value('office_phone', $amuco_suppliers->office_phone); ?>">
                           <small class="info help-block">
                           <b>Input Office Phone</b> Max Length : 30.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="fax" class="col-sm-2 control-label">Fax 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="fax" id="fax" placeholder="Fax" value="<?= set_value('fax', $amuco_suppliers->fax); ?>">
                           <small class="info help-block">
                           <b>Input Fax</b> Max Length : 30.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="payment_terms" class="col-sm-2 control-label">Payment Terms 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="payment_terms" id="payment_terms" placeholder="Payment Terms" value="<?= set_value('payment_terms', $amuco_suppliers->payment_terms); ?>">
                           <small class="info help-block">
                           <b>Input Payment Terms</b> Max Length : 250.</small>
                        </div>
                     </div>
                                                 
                     <div class="form-group ">
                        <label for="classification_id" class="col-sm-2 control-label">Classification  </label>
                        <div class="col-sm-8">
                           <select  class="form-control chosen chosen-select" name="classification_id[]" id="classification_id" data-placeholder="Select Classification Id" multiple >
                              <option value=""></option>
                              <?php foreach (db_get_all_data('amuco_classification_suppliers') as $row): ?>
                              <option <?=  in_array($row->id, explode(',', $amuco_suppliers->classification_id)) ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                              <?php endforeach; ?>  
                           </select>
                           <small class="info help-block">
                           </small>
                        </div>
                     </div>

                     <div class="modal-footer justify-content-between">
                        <button type="button" class="btn btn-outline-light" data-dismiss="modal">Close</button>
                        <button class="btn btn-flat btn-primary  btn_action" id="btn_update_supplier" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                           <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                        </button>
                        
                       
                     </div>
                  
                     <?= form_close(); ?>
                 
                  <div>   
                 
               </div>
            </div>
         </div>
          <!-- /.modal-content -->
      </div>
        <!-- /.modal-dialog -->
   </div>
</section>

<section>
   <div class="modal fade" id="modal-contact">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="box box-widget widget-user-2">
                        <!-- Add the bg color to the header using any of the bg-* classes -->
                  <div class="widget-user-header ">
                        <div class="widget-user-image">
                           <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                        </div>
                        <!-- /.widget-user-image -->
                        <h3 class="widget-user-username">Amuco Contacts</h3>
                        <h5 class="widget-user-desc"><?= cclang('new', ['Amuco Contacts']); ?></h5>
                        <hr>
                  </div>
                  <?= form_open('', [
                        'name'    => 'form_amuco_contacts', 
                        'class'   => 'form-horizontal form-step', 
                        'id'      => 'form_amuco_contacts', 
                        'enctype' => 'multipart/form-data', 
                        'method'  => 'POST'
                        ]); ?>
                     
                     <div class="form-group " style="display:none">
                            <label for="type_contact" class="col-sm-2 control-label"> Contact Type
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <select  class="form-control chosen chosen-select" name="type_contact" id="type_contact" data-placeholder="Select Type Contact" >
                                    <option value=""></option>
                                    <option selected value="Supplier">Supplier</option>
                                    <!--option value="Customer">Customer</option-->
                                    </select>
                                <small class="info help-block">
                                </small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                        <label for="name" class="col-sm-2 control-label">First Name 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="first_name" id="first_name" placeholder="First Name" value="<?= set_value('first_name'); ?>">
                           <small class="info help-block">
                           <b>Input First Name</b> Max Length : 100.</small>
                        </div>
                  </div>
                  <div class="form-group ">
                        <label for="name" class="col-sm-2 control-label">Last Name 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="last_name" id="last_name" placeholder="Last Name" value="<?= set_value('last_name'); ?>">
                           <small class="info help-block">
                           <b>Input Last Name</b> Max Length : 100.</small>
                        </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="position" class="col-sm-2 control-label">Position 
                     
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="position" id="position" placeholder="Position" value="<?= set_value('position'); ?>">
                        <small class="info help-block">
                        <b>Input Position</b> Max Length : 100.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="departament" class="col-sm-2 control-label">Departament 
                     
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="departament" id="departament" placeholder="Department" value="<?= set_value('department'); ?>">
                        <small class="info help-block">
                        <b>Input Departament</b> Max Length : 100.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="mobile_phone" class="col-sm-2 control-label">Mobile Phone 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="mobile_phone" id="mobile_phone" placeholder="Mobile Phone" value="<?= set_value('mobile_phone'); ?>">
                        <small class="info help-block">
                        <b>Input Mobile Phone</b> Max Length : 30.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="office_phone" class="col-sm-2 control-label">Office Phone 
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="office_phone" id="office_phone" placeholder="Office Phone" value="<?= set_value('office_phone'); ?>">
                        <small class="info help-block">
                        <b>Input Office Phone</b> Max Length : 30.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="personal_phone" class="col-sm-2 control-label">Personal Phone 
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="personal_phone" id="personal_phone" placeholder="Personal Phone" value="<?= set_value('personal_phone'); ?>">
                        <small class="info help-block">
                        <b>Input Personal Phone</b> Max Length : 30.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="fax" class="col-sm-2 control-label">Fax 
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="fax" id="fax" placeholder="Fax" value="<?= set_value('fax'); ?>">
                        <small class="info help-block">
                        <b>Input Fax</b> Max Length : 30.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="email" class="col-sm-2 control-label">Email 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="email" id="email" placeholder="Email" value="<?= set_value('email'); ?>">
                        <small class="info help-block">
                        <b>Input Email</b> Max Length : 100.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                        <label for="skype" class="col-sm-2 control-label">Skype 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="skype" id="skype" placeholder="Skype" value="<?= set_value('skype'); ?>">
                           <small class="info help-block">
                           <b>Input Skype</b> Max Length : 100.</small>
                        </div>
                  </div>
                                                 
                 
                  <!--div class="form-group ">
                     <label for="line_products" class="col-sm-2 control-label"> Products Line
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select" name="line_products[]" id="line_products" data-placeholder="Select Products Line" multiple >
                           <option value=""></option>
                           <?php foreach (db_get_all_data('amuco_industry_type') as $row): ?>
                           <option value="<?= $row->id ?>"><?= $row->name; ?></option>
                           <?php endforeach; ?>  
                        </select>
                        <small class="info help-block">
                        <b>Input Line Products</b> Max Length : 100.</small>
                     </div>
                  </div-->
                                                 
                  <div class="form-group " id="supplier" style="display:block">
                     <label for="supplier_id" class="col-sm-2 control-label">Supplier  
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select-deselect" name="supplier_id" id="supplier_id"  >
                        <option value=""></option>
                        <?php foreach (db_get_all_data('amuco_suppliers') as $row): ?>
                        <?php if($row->id == $amuco_suppliers->id): ?>
                        <option selected value="<?= $row->id ?>"><?= $row->name; ?></option>
                        <?php endif; ?>   
                        <?php endforeach; ?>   
                        </select>
                        <small class="info help-block">
                        <b>Input Supplier Id</b> Max Length : 10.</small>
                     </div>
                  </div>
                               
                  <div class="form-group ">
                        <label for="picture" class="col-sm-2 control-label">Picture 
                        </label>
                        <div class="col-sm-8">
                           <input type="text" class="form-control" name="picture" id="picture" placeholder="Picture" value="<?= set_value('picture'); ?>">
                           <small class="info help-block">
                           <b>Input Picture</b> Max Length : 250.</small>
                        </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="home_address" class="col-sm-2 control-label">Home Address 
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="home_address" id="home_address" placeholder="Home Address" value="<?= set_value('home_address'); ?>">
                        <small class="info help-block">
                        <b>Input Home Address</b> Max Length : 250.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="country" class="col-sm-2 control-label">Country 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select-deselect" name="country" id="country" data-placeholder="Select Country" >
                           <option value=""></option>
                           <?php foreach (db_get_all_data('amuco_countries') as $row): ?>
                           <option value="<?= $row->id ?>"><?= $row->name; ?></option>
                           <?php endforeach; ?>  
                        </select>
                        <small class="info help-block">
                        <b>Input Country</b> Max Length : 10.</small>
                     </div>
                  </div>

                                                 
                                                <div class="form-group ">
                            <label for="city" class="col-sm-2 control-label">City 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="city" id="city" placeholder="City" value="<?= set_value('city'); ?>">
                                <small class="info help-block">
                                <b>Input City</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="home_phone" class="col-sm-2 control-label">Home Phone 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="home_phone" id="home_phone" placeholder="Home Phone" value="<?= set_value('home_phone'); ?>">
                                <small class="info help-block">
                                <b>Input Home Phone</b> Max Length : 30.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="birthday" class="col-sm-2 control-label">Birthday 
                            </label>
                            <div class="col-sm-6">
                            <div class="input-group date col-sm-8">
                              <input type="text" class="form-control pull-right datetimepicker" name="birthday"  id="birthday">
                            </div>
                            <small class="info help-block">
                            </small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="additional_information" class="col-sm-2 control-label">Additional Information 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="additional_information" id="additional_information" placeholder="Additional Information" value="<?= set_value('additional_information'); ?>">
                                <small class="info help-block">
                                <b>Input Additional Information</b> Max Length : 250.</small>
                            </div>
                        </div>
                                                
                  <div class="message"></div>
                  <div class="modal-footer justify-content-between">
                     <button type="button" class="btn btn-outline-light" data-dismiss="modal">Close</button>
                     <button class="btn btn-flat btn-primary btn_save btn_action" id="btn_save_contact" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                        <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                     </button>
                  </div>
                  
                  <?= form_close(); ?>
               </div>
            </div>
           
         
          <!-- /.modal-content -->
         </div>
        <!-- /.modal-dialog -->
      </div>
   </div>   
</section>

<section>
   <div class="modal fade" id="modal-contact-update">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="box box-widget widget-user-2">
                        <!-- Add the bg color to the header using any of the bg-* classes -->
                  <div class="widget-user-header ">
                        <div class="widget-user-image">
                           <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                        </div>
                        <!-- /.widget-user-image -->
                        <h3 class="widget-user-username">Amuco Contacts</h3>
                        <h5 class="widget-user-desc"><?= cclang('Edit', ['Amuco Contacts']); ?></h5>
                        <hr>
                  </div>
                  <?= form_open('', [
                        'name'    => 'form_amuco_contacts_update', 
                        'class'   => 'form-horizontal form-step', 
                        'id'      => 'form_amuco_contacts_update', 
                        'enctype' => 'multipart/form-data', 
                        'method'  => 'POST'
                        ]); ?>
                     <input type="hidden" class="form-control" name="contact_id" id="contact_id"  value="">
                     <div class="form-group " style="display:none">
                            <label for="type_contact" class="col-sm-2 control-label"> Contact Type
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <select  class="form-control chosen chosen-select" name="type_contact" id="type_contact" data-placeholder="Select Type Contact" >
                                    <option value=""></option>
                                    <option selected value="Supplier">Supplier</option>
                                    <!--option value="Customer">Customer</option-->
                                    </select>
                                <small class="info help-block">
                                </small>
                            </div>
                        </div>
                                                 
                       

                        <div class="form-group " >
                            <label for="active" class="col-sm-2 control-label">Active 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <select  class="form-control chosen chosen-select" name="active" id="active_contact_update" data-placeholder="Select Active" >
                                    <option value=""></option>
                                    <option <?= $contact->active == "0" ? 'selected' :''; ?> value="0">No</option>
                                    <option <?= $contact->active == "1" ? 'selected' :''; ?> value="1">Yes</option>
                                    </select>
                                    <small class="info help-block">
                                <b>Input Active</b> Max Length : 1.</small>
                            </div>
                        </div>
                                                 
                        
                                                 
                        <div class="form-group ">
                            <label for="name" class="col-sm-2 control-label">First Name 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="first_name" id="first_name_contact_update" placeholder="First Name" value="<?= set_value('name'); ?>">
                                <small class="info help-block">
                                <b>Input First Name</b> Max Length : 100.</small>
                            </div>
                        </div>
                        <div class="form-group ">
                            <label for="name" class="col-sm-2 control-label">Last Name 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="last_name" id="last_name_contact_update" placeholder="Last Name" value="<?= set_value('name'); ?>">
                                <small class="info help-block">
                                <b>Input Last Name</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="position" class="col-sm-2 control-label">Position 
                          
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="position" id="position_contact_update" placeholder="Position" value="<?= set_value('position'); ?>">
                                <small class="info help-block">
                                <b>Input Position</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="departament" class="col-sm-2 control-label">Departament 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="department" id="department_contact_update" placeholder="Department" value="<?= set_value('departament'); ?>">
                                <small class="info help-block">
                                <b>Input Departament</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="mobile_phone" class="col-sm-2 control-label">Mobile Phone 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="mobile_phone" id="mobile_phone_contact_update" placeholder="Mobile Phone" value="<?= set_value('mobile_phone'); ?>">
                                <small class="info help-block">
                                <b>Input Mobile Phone</b> Max Length : 30.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="office_phone" class="col-sm-2 control-label">Office Phone 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="office_phone" id="office_phone_contact_update" placeholder="Office Phone" value="<?= set_value('office_phone'); ?>">
                                <small class="info help-block">
                                <b>Input Office Phone</b> Max Length : 30.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="personal_phone" class="col-sm-2 control-label">Personal Phone 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="personal_phone" id="personal_phone_contact_update" placeholder="Personal Phone" value="<?= set_value('personal_phone'); ?>">
                                <small class="info help-block">
                                <b>Input Personal Phone</b> Max Length : 30.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="fax" class="col-sm-2 control-label">Fax 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="fax" id="fax_contact_update" placeholder="Fax" value="<?= set_value('fax'); ?>">
                                <small class="info help-block">
                                <b>Input Fax</b> Max Length : 30.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="email" class="col-sm-2 control-label">Email 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="email" id="email_contact_update" placeholder="Email" value="<?= set_value('email'); ?>">
                                <small class="info help-block">
                                <b>Input Email</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="skype" class="col-sm-2 control-label">Skype 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="skype" id="skype_contact_update" placeholder="Skype" value="<?= set_value('skype'); ?>">
                                <small class="info help-block">
                                <b>Input Skype</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                               
                        <!--div class="form-group ">
                            <label for="line_products" class="col-sm-2 control-label"> Products Line
                            </label>
                            <div class="col-sm-8">
                                <select  class="form-control chosen chosen-select" name="line_products[]" id="line_products_contact_update" data-placeholder="Select  Products Line" multiple >
                                    <option value=""></option>
                                    <?php foreach (db_get_all_data('amuco_industry_type') as $row): ?>
                                    <option <?=  in_array($row->id, explode(',', $contact->line_products)) ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                                    <?php endforeach; ?>  
                                </select>
                                <small class="info help-block">
                                <b>Input Line Products</b> Max Length : 100.</small>
                            </div>
                        </div-->                 
                                          


                                                 
                                                <div class="form-group " id="supplier" >
                            <label for="supplier_id" class="col-sm-2 control-label">Supplier 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                            <input readonly type="text" class="form-control" name="supplier_name" id="supplier_name_update" placeholder="Supplier" value="<?= set_value('suplier',$amuco_suppliers->name); ?>">
                            <input  type="hidden" class="form-control" name="supplier_id" id="supplier_id_update" placeholder="City" value="<?= set_value('suplier',$amuco_suppliers->id); ?>">
                                <!--select  class="form-control chosen chosen-select-deselect" name="supplier_id" id="supplier_id" data-placeholder="Select Supplier Id" >
                                    <option value=""></option>
                                    <?php foreach (db_get_all_data('amuco_suppliers') as $row): ?>
                                    <option <?=  $row->id ==  $amuco_suppliers->id ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                                    <?php endforeach; ?>  
                                </select-->
                                <small class="info help-block">
                                <b>Input Supplier Id</b> Max Length : 10.</small>
                            </div>
                        </div>


                                                 
                                                <div class="form-group ">
                            <label for="picture" class="col-sm-2 control-label">Picture 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="picture" id="picture_contact_update" placeholder="Picture" value="<?= set_value('picture'); ?>">
                                <small class="info help-block">
                                <b>Input Picture</b> Max Length : 250.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="home_address" class="col-sm-2 control-label">Home Address 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="home_address" id="home_address_contact_update" placeholder="Home Address" value="<?= set_value('home_address'); ?>">
                                <small class="info help-block">
                                <b>Input Home Address</b> Max Length : 250.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="country" class="col-sm-2 control-label">Country 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <select  class="form-control chosen chosen-select-deselect" name="country" id="country" data-placeholder="Select Country" >
                                    <option value=""></option>
                                    <?php foreach (db_get_all_data('amuco_countries') as $row): ?>
                                    <option <?=  $row->id ==  $contact->country ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option>
                                    <?php endforeach; ?>  
                                </select>
                                <small class="info help-block">
                                <b>Input Country</b> Max Length : 10.</small>
                            </div>
                        </div>


                                                 
                                                <div class="form-group ">
                            <label for="city" class="col-sm-2 control-label">City 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="city" id="city_contact_update" placeholder="City" value="<?= set_value('city'); ?>">
                                <small class="info help-block">
                                <b>Input City</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="home_phone" class="col-sm-2 control-label">Home Phone 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="home_phone" id="home_phone_contact_update" placeholder="Home Phone" value="<?= set_value('home_phone'); ?>">
                                <small class="info help-block">
                                <b>Input Home Phone</b> Max Length : 30.</small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="birthday" class="col-sm-2 control-label">Birthday 
                            </label>
                            <div class="col-sm-6">
                            <div class="input-group date col-sm-8">
                              <input type="text" class="form-control pull-right datepicker" name="birthday"  placeholder="Birthday" id="birthday_contact_update" value="<?= set_value('birthday'); ?>">
                            </div>
                            <small class="info help-block">
                            </small>
                            </div>
                        </div>
                                                 
                                                <div class="form-group ">
                            <label for="additional_information" class="col-sm-2 control-label">Additional Information 
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="additional_information" id="additional_information_contact_update" placeholder="Additional Information" value="<?= set_value('additional_information'); ?>">
                                <small class="info help-block">
                                <b>Input Additional Information</b> Max Length : 250.</small>
                            </div>
                        </div>
                                                
                  <div class="message"></div>
                  <div class="modal-footer justify-content-between">
                     <button type="button" class="btn btn-outline-light" data-dismiss="modal">Close</button>
                     <button class="btn btn-flat btn-primary  btn_action" id="btn_update_contacts" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                        <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                     </button>
                  </div>
                  
                  <?= form_close(); ?>
               </div>
            </div>
           
         
          <!-- /.modal-content -->
         </div>
        <!-- /.modal-dialog -->
      </div>
   </div>   
</section>


<section>
   <div class="modal fade" id="modal-visit">
      <div class="modal-dialog modal-lg">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="row" >
                  <div class="box box-warning">
                     <div class="box-body ">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user-2">
                           <!-- Add the bg color to the header using any of the bg-* classes -->
                           <div class="widget-user-header ">
                              <div class="widget-user-image">
                                 <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                              </div>
                              <!-- /.widget-user-image -->
                              <h3 class="widget-user-username">Amuco Visits</h3>
                              <h5 class="widget-user-desc"><?= cclang('new', ['Amuco Visits']); ?></h5>
                             
                           </div>
                        </div>
                     <div>   
                  <?= form_open('', [
                            'name'    => 'form_amuco_visit', 
                            'class'   => 'form-horizontal form-step', 
                            'id'      => 'form_amuco_visit', 
                            'enctype' => 'multipart/form-data', 
                            'method'  => 'POST'
                            ]); ?>
                  <div class="form-group ">
                     <label for="type_visit" class="col-sm-2 control-label">Type Visit 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select" name="type_visit" id="type_visit" data-placeholder="Select Type Visit" >
                           <option value=""></option>
                           <option value="Personal">Personal</option>
                           <option value="Telephone">Telephone</option>
                           </select>
                        <small class="info help-block">
                        </small>
                     </div>
                  </div>
                  <div class="form-group " style="display:none">
                        <label for="type_client" class="col-sm-2 control-label">Type Client 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <select  class="form-control chosen chosen-select" name="type_client" id="type_client" data-placeholder="Select Type Client" >
                              <option value=""></option>
                              <option value="Supplier" selected>Supplier</option>
                              <!--option value="Supplier">Supplier</option-->
                              </select>
                           <small class="info help-block">
                           </small>
                        </div>
                  </div>
                         
                  <div class="form-group ">
                     <label for="user_id" class="col-sm-2 control-label">User  
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select-deselect" name="user_id" id="user_id" data-placeholder="Select User Id" >
                           <option value=""></option>
                           <?php foreach (db_get_all_data('aauth_users') as $row): ?>
                           <option value="<?= $row->id ?>"><?= $row->username; ?></option>
                           <?php endforeach; ?>  
                        </select>
                        <small class="info help-block">
                        <b>Input User Id</b> Max Length : 10.</small>
                     </div>
                  </div>

                                                 
                  <!--div class="form-group " id="supplier" style="display:block">
                        <label for="supplier_id" class="col-sm-2 control-label">Supplier  
                        </label>
                        <div class="col-sm-8">
                           <select  class="form-control chosen chosen-select-deselect" name="supplier_id" id="supplier_id"  >
                              <option value=""></option>
                              <?php foreach (db_get_all_data('amuco_suppliers') as $row): ?>
                              <option <?=  ($row->id==$amuco_suppliers->id) ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->name; ?></option> 
            
                              <?php endforeach; ?>  
                           </select>
                           <small class="info help-block">
                           <b>Input Supplier Id</b> Max Length : 10.</small>
                        </div>
                  </div-->
                  <div class="form-group " id= "customer_select">
                     <label for="supplier_id" class="col-sm-2 control-label">Supplier  
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <input readonly type="text" class="form-control" name="supplier_name" id="supplier_name" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->name); ?>">
                        <input  type="hidden" class="form-control" name="supplier_id" id="supplier_id" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->id); ?>">
                        <small class="info help-block">
                        <b>Input Customer Id</b> Max Length : 10.</small>
                     </div>
                  </div>

                                                 
                  <div class="form-group ">
                     <label for="date_visit" class="col-sm-2 control-label">Date Visit 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-6">
                        <div class="input-group date col-sm-8">
                           <input type="text" class="form-control pull-right datepicker" name="date_visit"  id="date_visit">
                         </div>
                        <small class="info help-block">
                        </small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="contact_name" class="col-sm-2 control-label">Contact Name 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select-deselect" name="contact_name" id="contact_name" data-placeholder="Select Contact Name" >
                           <option value=""></option>
                           <?php foreach ($supplier_contacts as $row): ?>
                           <option value="<?= $row->id ?>"><?= $row->first_name.' '.$row->last_name; ?></option>
                           <?php endforeach; ?>  
                        </select>
                        <small class="info help-block">
                        <b>Input Contact Name</b> Max Length : 50.</small>
                     </div>
                  </div>

                  <div class="form-group ">
                     <label for="subject" class="col-sm-2 control-label">Subject 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" value="<?= set_value('subject'); ?>">
                        <small class="info help-block">
                        <b>Input Subject</b> Max Length : 250.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="notes" class="col-sm-2 control-label">Notes 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <textarea id="notes" name="notes" rows="5" cols="80"><?= set_value('Notes'); ?></textarea>
                        <small class="info help-block">
                        </small>
                     </div>
                  </div>
                                                
                  <div class="message"></div>
                  <div class="modal-footer justify-content-between">
                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                     <button class="btn btn-flat btn-primary btn_save btn_action" id="btn_save_visit"  name="btn_save_visit" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                        <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                     </button>  
                  </div>
                 
                  <?= form_close(); ?>
               </div>
            </div>
         </div>
          <!-- /.modal-content -->
      </div>
        <!-- /.modal-dialog -->
   </div>
</section>
<!-- /.content -->
<section>
   <div class="modal fade" id="modal-bank">
      <div class="modal-dialog modal-lg">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="row" >
                  <div class="box box-warning">
                     <div class="box-body ">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user-2">
                        <!-- Add the bg color to the header using any of the bg-* classes -->
                        <div class="widget-user-header ">
                            <div class="widget-user-image">
                                <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                            </div>
                            <h3 class="widget-user-username">Amuco Suppliers Bank</h3>
                            <h5 class="widget-user-desc"><?= cclang('new', ['Amuco Suppliers Bank']); ?></h5>
                            <hr>
                        </div>
                        <?= form_open('', [
                            'name'    => 'form_amuco_suppliers_bank', 
                            'class'   => 'form-horizontal form-step', 
                            'id'      => 'form_amuco_suppliers_bank', 
                            'enctype' => 'multipart/form-data', 
                            'method'  => 'POST'
                            ]); ?>
                         
                        <div class="form-group ">
                           <label for="supplier_id" class="col-sm-2 control-label">Supplier Id 
                           <i class="required">*</i>
                           </label>
                            <div class="col-sm-8">
                                 <input readonly type="text" class="form-control" name="supplier_name" id="supplier_name" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->name); ?>">
                                 <input  type="hidden" class="form-control" name="supplier_id" id="supplier_id" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->id); ?>">
                              
                                <small class="info help-block">
                                <b>Input Supplier Id</b> Max Length : 10.</small>
                            </div>
                        </div>

                                                 
                        <div class="form-group ">
                            <label for="beneficiary_wires" class="col-sm-2 control-label">Beneficiary Wires 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="beneficiary_wires" id="beneficiary_wires" placeholder="Beneficiary Wires" value="<?= set_value('beneficiary_wires', $amuco_suppliers->name); ?>">
                                <small class="info help-block">
                                <b>Input Beneficiary Wires</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="beneficiary_bank" class="col-sm-2 control-label">Beneficiary Bank 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="beneficiary_bank" id="beneficiary_bank" placeholder="Beneficiary Bank" value="<?= set_value('beneficiary_bank'); ?>">
                                <small class="info help-block">
                                <b>Input Beneficiary Bank</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="account_number" class="col-sm-2 control-label">Account Number 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="account_number" id="account_number" placeholder="Account Number" value="<?= set_value('account_number'); ?>">
                                <small class="info help-block">
                                <b>Input Account Number</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="switf" class="col-sm-2 control-label">Switf 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="switf" id="switf" placeholder="Switf" value="<?= set_value('switf'); ?>">
                                <small class="info help-block">
                                <b>Input Switf</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="intermediary_bank" class="col-sm-2 control-label">Intermediary Bank 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="intermediary_bank" id="intermediary_bank" placeholder="Intermediary Bank" value="<?= set_value('intermediary_bank'); ?>">
                                <small class="info help-block">
                                <b>Input Intermediary Bank</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="account_intermediary" class="col-sm-2 control-label">Account Intermediary 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="account_intermediary" id="account_intermediary" placeholder="Account Intermediary" value="<?= set_value('account_intermediary'); ?>">
                                <small class="info help-block">
                                <b>Input Account Intermediary</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="swift_intermediary" class="col-sm-2 control-label">Swift Intermediary 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="swift_intermediary" id="swift_intermediary" placeholder="Swift Intermediary" value="<?= set_value('swift_intermediary'); ?>">
                                <small class="info help-block">
                                <b>Input Swift Intermediary</b> Max Length : 100.</small>
                            </div>
                        </div>
               
                 
                                                
                  <div class="message"></div>
                  <div class="modal-footer justify-content-between">
                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                     <button class="btn btn-flat btn-primary btn_save btn_action" id="btn_save_bank"  name="btn_save_bank" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                        <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                     </button>  
                  </div>
                 
                  <?= form_close(); ?>
               </div>
            </div>
         </div>
          <!-- /.modal-content -->
      </div>
        <!-- /.modal-dialog -->
   </div>
</section>
<section>
   <div class="modal fade" id="modal-bank-update">
      <div class="modal-dialog modal-lg">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="row" >
                  <div class="box box-warning">
                     <div class="box-body ">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user-2">
                        <!-- Add the bg color to the header using any of the bg-* classes -->
                        <div class="widget-user-header ">
                            <div class="widget-user-image">
                                <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                            </div>
                            <h3 class="widget-user-username">Amuco Suppliers Bank</h3>
                            <h5 class="widget-user-desc"><?= cclang('new', ['Amuco Suppliers Bank']); ?></h5>
                            <hr>
                        </div>
                        <?= form_open('', [
                            'name'    => 'form_amuco_suppliers_bank_update', 
                            'class'   => 'form-horizontal form-step', 
                            'id'      => 'form_amuco_suppliers_bank_update', 
                            'enctype' => 'multipart/form-data', 
                            'method'  => 'POST'
                            ]); ?>   
                         
                        <div class="form-group ">
                           <label for="supplier_id" class="col-sm-2 control-label">Supplier Id 
                           <i class="required">*</i>
                           </label>
                            <div class="col-sm-8">
                                 <input readonly type="text" class="form-control" name="supplier_name" id="supplier_name" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->name); ?>">
                                 <input  type="hidden" class="form-control" name="supplier_id" id="supplier_id" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->id); ?>">
                                 <input  type="hidden" class="form-control" name="bank_id" id="bank_id" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->id); ?>">
                                <small class="info help-block">
                                <b>Input Supplier Id</b> Max Length : 10.</small>
                            </div>
                        </div>

                                                 
                        <div class="form-group ">
                            <label for="beneficiary_wires" class="col-sm-2 control-label">Beneficiary Wires 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="beneficiary_wires" id="beneficiary_wires" placeholder="Beneficiary Wires" value="<?= set_value('beneficiary_wires', $amuco_suppliers->name); ?>">
                                <small class="info help-block">
                                <b>Input Beneficiary Wires</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="beneficiary_bank" class="col-sm-2 control-label">Beneficiary Bank 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="beneficiary_bank" id="beneficiary_bank_update" placeholder="Beneficiary Bank" value="<?= set_value('beneficiary_bank'); ?>">
                                <small class="info help-block">
                                <b>Input Beneficiary Bank</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="account_number" class="col-sm-2 control-label">Account Number 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="account_number" id="account_number_update" placeholder="Account Number" value="<?= set_value('account_number'); ?>">
                                <small class="info help-block">
                                <b>Input Account Number</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="switf" class="col-sm-2 control-label">Switf 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="switf" id="switf_update" placeholder="Switf" value="<?= set_value('switf'); ?>">
                                <small class="info help-block">
                                <b>Input Switf</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="intermediary_bank" class="col-sm-2 control-label">Intermediary Bank 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="intermediary_bank" id="intermediary_bank_update" placeholder="Intermediary Bank" value="<?= set_value('intermediary_bank'); ?>">
                                <small class="info help-block">
                                <b>Input Intermediary Bank</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="account_intermediary" class="col-sm-2 control-label">Account Intermediary 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="account_intermediary" id="account_intermediary_update" placeholder="Account Intermediary" value="<?= set_value('account_intermediary'); ?>">
                                <small class="info help-block">
                                <b>Input Account Intermediary</b> Max Length : 100.</small>
                            </div>
                        </div>
                                                 
                        <div class="form-group ">
                            <label for="swift_intermediary" class="col-sm-2 control-label">Swift Intermediary 
                            <i class="required">*</i>
                            </label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="swift_intermediary" id="swift_intermediary_update" placeholder="Swift Intermediary" value="<?= set_value('swift_intermediary'); ?>">
                                <small class="info help-block">
                                <b>Input Swift Intermediary</b> Max Length : 100.</small>
                            </div>
                        </div>
               
                 
                                                
                  <div class="message"></div>
                  <div class="modal-footer justify-content-between">
                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                     <button class="btn btn-flat btn-primary  btn_action" id="btn_update_bank"  name="btn_update_bank" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                        <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                     </button>  
                  </div>
                 
                  <?= form_close(); ?>
               </div>
            </div>
         </div>
          <!-- /.modal-content -->
      </div>
        <!-- /.modal-dialog -->
   </div>
</section>

<section>
   <div class="modal fade" id="modal-visit-update">
      <div class="modal-dialog modal-lg">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
               <div class="row" >
                  <div class="box box-warning">
                     <div class="box-body ">
                        <!-- Widget: user widget style 1 -->
                        <div class="box box-widget widget-user-2">
                           <!-- Add the bg color to the header using any of the bg-* classes -->
                           <div class="widget-user-header ">
                              <div class="widget-user-image">
                                 <img class="img-circle" src="<?= BASE_ASSET; ?>/img/add2.png" alt="User Avatar">
                              </div>
                              <!-- /.widget-user-image -->
                              <h3 class="widget-user-username">Amuco Visits</h3>
                              <h5 class="widget-user-desc"><?= cclang('new', ['Amuco Visits']); ?></h5>
                             
                           </div>
                        </div>
                     <div>   
                  <?= form_open('', [
                            'name'    => 'form_amuco_visit_update', 
                            'class'   => 'form-horizontal form-step', 
                            'id'      => 'form_amuco_visit_update', 
                            'enctype' => 'multipart/form-data', 
                            'method'  => 'POST'
                            ]); ?>
                  <div class="form-group ">
                     <input type="hidden"  name="visit_id"  id="visit_id" value="">
                     <label for="type_visit" class="col-sm-2 control-label"> Visit Type
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select" name="type_visit" id="type_visit_update" data-placeholder="Select  Visit Type" >
                           <option value=""></option>
                           <option <?= $amuco_visits->type_visit == "Personal" ? 'selected' :''; ?> value="Personal">Personal</option>
                           <option <?= $amuco_visits->type_visit == "Telephone" ? 'selected' :''; ?> value="Telephone">Telephone</option>
                           </select>
                        <small class="info help-block">
                        </small>
                     </div>
                  </div>
                  <div class="form-group " style="display:none">
                        <label for="type_client" class="col-sm-2 control-label">Type Client 
                        <i class="required">*</i>
                        </label>
                        <div class="col-sm-8">
                           <select  class="form-control chosen chosen-select" name="type_client" id="type_client_update" data-placeholder="Select Type Client" >
                              <option value=""></option>
                              <option value="Supplier" selected>Supplier</option>
                              <!--option value="Supplier">Supplier</option-->
                              </select>
                           <small class="info help-block">
                           </small>
                        </div>
                  </div>
                         
                  <div class="form-group ">
                     <label for="user_id" class="col-sm-2 control-label">User  
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select-deselect" name="user_id" id="user_id_update" data-placeholder="Select User Id" >
                           <option value=""></option>
                           <?php foreach (db_get_all_data('aauth_users') as $row): ?>
                           <option <?=  $row->id ==  $amuco_visits->user_id ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->username; ?></option>
                           <?php endforeach; ?>  
                        </select>
                        <small class="info help-block">
                        <b>Input User Id</b> Max Length : 10.</small>
                     </div>
                  </div>

                  <div class="form-group " id= "customer_select">
                     <label for="supplier_id" class="col-sm-2 control-label">Supplier  
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                     <input readonly type="text" class="form-control" name="supplier_name" id="supplier_name" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->name); ?>">
                                 <input  type="hidden" class="form-control" name="supplier_id" id="supplier_id" placeholder="Supplier" value="<?= set_value('Supplier', $amuco_suppliers->id); ?>">
                        <small class="info help-block">
                        <b>Input Customer Id</b> Max Length : 10.</small>
                     </div>
                  </div>

                                                 
                  <div class="form-group ">
                     <label for="date_visit" class="col-sm-2 control-label">Date Visit 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-6">
                        <div class="input-group date col-sm-8">
                           <input type="text" class="form-control pull-right datepicker" name="date_visit"  id="date_visit_update">
                         </div>
                        <small class="info help-block">
                        </small>
                     </div>
                  </div>
                                                 
                       
                  <div class="form-group ">
                     <label for="contact_name" class="col-sm-2 control-label">Contact Name 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <select  class="form-control chosen chosen-select-deselect" name="contact_name" id="contact_name_update" data-placeholder="Select Contact Name" >
                              <option value=""></option>
                              <?php foreach (db_get_all_data('amuco_contacts') as $row): ?>
                              <option <?=  $row->id ==  $amuco_visits->contact_name ? 'selected' : ''; ?> value="<?= $row->id ?>"><?= $row->first_name; ?></option>
                              <?php endforeach; ?>  
                        </select>
                        <small class="info help-block">
                        <b>Input Contact Name</b> Max Length : 50.</small>
                     </div>
                  </div>

                  <div class="form-group ">
                     <label for="subject" class="col-sm-2 control-label">Subject 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <input type="text" class="form-control" name="subject" id="subject_update" placeholder="Subject" value="<?= set_value('subject'); ?>">
                        <small class="info help-block">
                        <b>Input Subject</b> Max Length : 250.</small>
                     </div>
                  </div>
                                                 
                  <div class="form-group ">
                     <label for="notes" class="col-sm-2 control-label">Notes 
                     <i class="required">*</i>
                     </label>
                     <div class="col-sm-8">
                        <textarea id="notes_update" name="notes" rows="5" cols="80"><?= set_value('Notes'); ?></textarea>
                        <small class="info help-block">
                        </small>
                     </div>
                  </div>
                                                
                  <div class="message"></div>
                  <div class="modal-footer justify-content-between">
                     <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                     <button class="btn btn-flat btn-primary  btn_action" id="btn_update_visit"  name="btn_update_visit" data-stype='stay' title="<?= cclang('save_button'); ?> (Ctrl+s)">
                        <i class="fa fa-save" ></i> <?= cclang('save_button'); ?>
                     </button>  
                  </div>
                 
                  <?= form_close(); ?>
               </div>
            </div>
         </div>
          <!-- /.modal-content -->
      </div>
        <!-- /.modal-dialog -->
   </div>
</section>

<script src="<?= BASE_ASSET; ?>ckeditor/ckeditor.js"></script>
<script>
$(document).ready(function(){
   CKEDITOR.replace('notes'); 
   var notes = CKEDITOR.instances.notes;
   $('ul li a').on('click', function() {
     let numClicked = $(this).parent('li').index();
     if(numClicked == 0){
      $('#btn_update_data').css("display","block");
     }else{
      $('#btn_update_data').css("display","none");
     }
    
   });
   $('#btn_update_supplier').click(function(){
        $('.message').fadeOut();
        $('#notes').val(notes.getData());
                    
        var form_amuco_supplier_update_data = $('#form_amuco_suppliers_update_data');
        var data_post = form_amuco_supplier_update_data.serializeArray();
        var save_type = $(this).attr('data-stype');
        data_post.push({name: 'save_type', value: save_type});
    
        $('.loading').show();
    
        $.ajax({
          url: form_amuco_supplier_update_data.attr('action'),
          type: 'POST',
          dataType: 'json',
          data: data_post,
        })
        .done(function(res) {
           
          $('form').find('.form-group').removeClass('has-error');
          $('form').find('.error-input').remove();
          $('.steps li').removeClass('error');
          if(res.success) {
            $('#modal-supplier-update').modal('hide');
            location.reload();
            var id = $('#amuco_visits_image_galery').find('li').attr('qq-file-id');
            if (save_type == 'back') {
              //window.location.href = res.redirect;
              return;
            }
    
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            $('.data_file_uuid').val('');
    
          } else {
            if (res.errors) {
               parseErrorField(res.errors);
            }
            $('.message').printMessage({message : res.message, type : 'warning'});
          }
    
        })
        .fail(function() {
          $('.message').printMessage({message : 'Error save data', type : 'warning'});
        })
        .always(function() {
          $('.loading').hide();
          $('html, body').animate({ scrollTop: $(document).height() }, 2000);
        });
    
        return false;
      }); /*end btn save*/

   $('#update-visit').click(function(){
      $('#visit_id').val($('#update-visit').data('id'));
      $('#type_visit_update').val($('#update-visit').data('type'));
      $('#type_client_update').val('Supplier');
      $('#user_id_update').val($('#update-visit').data('user'));
      $('#supplier_name_update').val($('#update-visit').data('supplier_name'));
      $('#date_visit_update').val($('#update-visit').data('date_visit'));
      $('#contact_name_update').val($('#update-visit').data('contact_name'));
      $('#subject_update').val($('#update-visit').data('subject'));
      $('#notes_update').val( $('#update-visit').data('notes'));
      $('#modal-visit-update').modal('show');

   });

   $('.update-contact').click(function(){
     
      //alert($ ('#'+$(this).attr('id')).data('id'));
     
      $('#contact_id').val($('#'+$(this).attr('id')).data('id'));
      $('#active_contact_update').val($('#'+$(this).attr('id')).data('active'));
      $('#first_name_contact_update').val($('#'+$(this).attr('id')).data('first_name'));
      $('#name_contact_update').val($('#'+$(this).attr('id')).data('name'));
      $('#last_name_contact_update').val($('#'+$(this).attr('id')).data('last_name'));
      $('#department_contact_update').val($('#'+$(this).attr('id')).data('department'));
      $('#position_contact_update').val($('#'+$(this).attr('id')).data('position'));
      $('#home_address_contact_update').val($('#'+$(this).attr('id')).data('address'));
      $('#office_phone_contact_update').val($('#'+$(this).attr('id')).data('office_phone'));
      $('#mobile_phone_contact_update').val( $('#'+$(this).attr('id')).data('mobile_phone'));
      $('#personal_phone_contact_update').val( $('#'+$(this).attr('id')).data('personal_phone'));
      $('#email_contact_update').val($('#'+$(this).attr('id')).data('email'));
      $('#skype_contact_update').val($('#'+$(this).attr('id')).data('skype'));
     // $('#line_products_contact_update').val($('#'+$(this).attr('id')).data('products_line'));
      $('#country_contact_update').val( $('#'+$(this).attr('id')).data('country'));
      $('#city_contact_update').val($('#'+$(this).attr('id')).data('city'));
      $('#birthday_contact_update').val($('#'+$(this).attr('id')).data('birthday'));
      $('#additional_information_contact_update').val( $('#'+$(this).attr('id')).data('additional_information'));
      $('#modal-contact-update').modal('show');

   });

   $('#update-bank').click(function(){
      console.log( $('#update-bank').data('id'));
      //alert( $('#update-bank').data('id'));
      $('#bank_id').val($('#update-bank').data('id'));
      $('#beneficiary_wires_update').val($('#update-bank').data('beneficiary_wires'));
      $('#beneficiary_bank_update').val($('#update-bank').data('beneficiary_bank'));
      $('#account_number_update').val($('#update-bank').data('beneficiary_account'));
      $('#switf_update').val($('#update-bank').data('beneficiary_swift'));
      $('#intermediary_bank_update').val($('#update-bank').data('intermediary_bank'));
      $('#account_intermediary_update').val($('#update-bank').data('intermediary_account'));
      $('#swift_intermediary_update').val( $('#update-bank').data('intermediary_swift'));
      $('#modal-bank-update').modal('show');
   });

   $('#btn_update_contacts').click(function(){
        $('.message').fadeOut();
            
        var form_amuco_update_contacts = $('#form_amuco_contacts_update');
        var data_post = form_amuco_update_contacts.serializeArray();
        var save_type = $(this).attr('data-stype');
        data_post.push({name: 'save_type', value: save_type});
    
        $('.loading').show();
    
        $.ajax({
          url:BASE_URL + '/administrator/amuco_contacts/edit_save/'+ $('#contact_id').val(),
          type: 'POST',
          dataType: 'json',
          data: data_post,
        })
        .done(function(res) {
          $('form').find('.form-group').removeClass('has-error');
          $('form').find('.error-input').remove();
          $('.steps li').removeClass('error');
          if(res.success) {
            $('#modal-contact-update').modal('hide');
            location.reload();
            
    
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            $('.data_file_uuid').val('');
    
          } else {
            if (res.errors) {
               parseErrorField(res.errors);
            }
            $('.message').printMessage({message : res.message, type : 'warning'});
          }
    
        })
        .fail(function() {
          $('.message').printMessage({message : 'Error save data', type : 'warning'});
        })
        .always(function() {
          $('.loading').hide();
          $('html, body').animate({ scrollTop: $(document).height() }, 2000);
        });
    
        return false;
      }); /*end btn save*/

   $('#btn_update_bank').click(function(){
        $('.message').fadeOut();
            
        var form_amuco_update = $('#form_amuco_suppliers_bank_update');
        var data_post = form_amuco_update.serializeArray();
        var save_type = $(this).attr('data-stype');
        data_post.push({name: 'save_type', value: save_type});
    
        $('.loading').show();
    
        $.ajax({
          url:BASE_URL + '/administrator/amuco_suppliers_bank/edit_save/'+ $('#bank_id').val(),
          type: 'POST',
          dataType: 'json',
          data: data_post,
        })
        .done(function(res) {
          $('form').find('.form-group').removeClass('has-error');
          $('form').find('.error-input').remove();
          $('.steps li').removeClass('error');
          if(res.success) {
            $('#modal-bank-update').modal('hide');
            location.reload();
            var id = $('#amuco_suppliers_image_galery').find('li').attr('qq-file-id');
            if (save_type == 'back') {
              window.location.href = res.redirect;
              return;
            }
    
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            $('.data_file_uuid').val('');
    
          } else {
            if (res.errors) {
               parseErrorField(res.errors);
            }
            $('.message').printMessage({message : res.message, type : 'warning'});
          }
    
        })
        .fail(function() {
          $('.message').printMessage({message : 'Error save data', type : 'warning'});
        })
        .always(function() {
          $('.loading').hide();
          $('html, body').animate({ scrollTop: $(document).height() }, 2000);
        });
    
        return false;
      }); /*end btn save*/
   $('#classification_id').change(function(){
      var items = $('#classification_id').val();
      var options = $('#classification_id option');
     // console.log(items );
      if(items != null){
         var flag = false;
         var values = $.map(options ,function(option) {
            flag = false;
            for(var i = 0;i < items.length;i++){
               if(option.value == items[i] ){
                  flag = true;
                  if( $("#opt"+items[i]).is( ".fa-close" ) ) {
                     $("#opt"+items[i]).removeClass("fa-close");
                     $("#opt"+items[i]).removeClass("color-red");
                     $("#opt"+items[i]).addClass("fa-check");
                     $("#opt"+items[i]).addClass("color-blue");
                  }
               }
            } 
            if(!flag){
               if( $("#opt"+option.value).is( ".fa-check" ) ) {
                     $("#opt"+option.value).removeClass("fa-check");
                     $("#opt"+option.value).removeClass("color-blue");
                     $("#opt"+option.value).addClass("fa-close");
                     $("#opt"+option.value).addClass("color-red");
               }
            } 
         });    
      }else{
         
         var values = $.map(options ,function(option) {
            if( $("#opt"+ option.value).is( ".fa-check" ) ) {
               $("#opt"+ option.value).removeClass("fa-check");
               $("#opt"+ option.value).removeClass("color-blue");
               $("#opt"+ option.value).addClass("fa-close");
               $("#opt"+ option.value).addClass("color-red");
            }
            console.log( option.value);
         });
      }
      
   });

   $('#btn_classification').click(function(){
      
      $('#classification_id_hide').val($('#classification_id').val());
     
      var form_amuco_suppliers_update = $('#form_amuco_suppliers_update');
      var data_post = form_amuco_suppliers_update.serializeArray();
      var save_type = $(this).attr('data-stype');
      data_post.push({name: 'save_type', value: save_type});
      console.log(data_post);
      var id =  $('#supplier_id').val();
      $('.loading').show();
      $.ajax({
         url:BASE_URL + '/administrator/amuco_suppliers/edit_classification/'+id,
         type: 'POST',
         dataType: 'json',
         data: data_post,
      })
      .done(function(res) {
          console.log(res);
          if(res.success) {
            location.reload();
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
          }else{
            $('.message').printMessage({message : res.message, type : 'warning'});
          }
      })
      .fail(function() {
         $('.message').printMessage({message : 'Error save data', type : 'warning'});
      })
      .always(function() {
         $('.loading').hide();
         $('html, body').animate({ scrollTop: $(document).height() }, 2000);
      });
     
      return false;
   });   
   $('#btn_save_visit').click(function(){
      $('.message').fadeOut();
      $('#notes').val(notes.getData());
   
      var form_amuco_visit = $('#form_amuco_visit');
      var data_post = form_amuco_visit.serializeArray();
      var save_type = $(this).attr('data-stype');

      data_post.push({name: 'save_type', value: save_type});
      console.log(data_post);
      $('.loading').show();
      
      $.ajax({
         url: BASE_URL + '/administrator/amuco_visits/add_save',
         type: 'POST',
         dataType: 'json',
         data: data_post,
      })
      .done(function(res) {
         
         $('form').find('.form-group').removeClass('has-error');
         $('.steps li').removeClass('error');
         $('form').find('.error-input').remove();
         if(res.success) {
            $('#modal-visit').modal('hide');
            location.reload();
            if (save_type == 'back') {
               window.location.href = res.redirect;
               return;
            }
   
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            resetForm();
            $('.chosen option').prop('selected', false).trigger('chosen:updated');
            notes.setData('');
                
         } else {
            if (res.errors) {
                
               $.each(res.errors, function(index, val) {
                  $('form #'+index).parents('.form-group').addClass('has-error');
                  $('form #'+index).parents('.form-group').find('small').prepend(`
                     <div class="error-input">`+val+`</div>
                     `);
               });
               $('.steps li').removeClass('error');
               $('.content section').each(function(index, el) {
                  if ($(this).find('.has-error').length) {
                     $('.steps li:eq('+index+')').addClass('error').find('a').trigger('click');
                  }
               });
            }
            $('.message').printMessage({message : res.message, type : 'warning'});
         }
    
      })
      .fail(function() {
         $('.message').printMessage({message : 'Error save data', type : 'warning'});
      })
      .always(function() {
         $('.loading').hide();
         $('html, body').animate({ scrollTop: $(document).height() }, 2000);
      });
    
      return false;
   }); /*end btn save**/

   $('#btn_save_contact').click(function(){
      $('.message').fadeOut();
         
      var form_amuco_contacts = $('#form_amuco_contacts');
      var data_post = form_amuco_contacts.serializeArray();
      var save_type = $(this).attr('data-stype');

      data_post.push({name: 'save_type', value: save_type});
    
      $('.loading').show();
    
      $.ajax({
         url: BASE_URL + '/administrator/amuco_contacts/add_save',
         type: 'POST',
         dataType: 'json',
         data: data_post,
      })
      .done(function(res) {
         $('form').find('.form-group').removeClass('has-error');
         $('.steps li').removeClass('error');
         $('form').find('.error-input').remove();
         if(res.success) {
            $('#modal-contact').modal('hide');
            location.reload();
            if (save_type == 'back') {
               window.location.href = res.redirect;
               return;
            }
   
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            resetForm();
            $('.chosen option').prop('selected', false).trigger('chosen:updated');
               
         } else {
            if (res.errors) {
                  
                  $.each(res.errors, function(index, val) {
                     $('form #'+index).parents('.form-group').addClass('has-error');
                     $('form #'+index).parents('.form-group').find('small').prepend(`
                        <div class="error-input">`+val+`</div>
                        `);
                  });
                  $('.steps li').removeClass('error');
                  $('.content section').each(function(index, el) {
                     if ($(this).find('.has-error').length) {
                        $('.steps li:eq('+index+')').addClass('error').find('a').trigger('click');
                     }
                  });
            }
         $('.message').printMessage({message : res.message, type : 'warning'});
         }
   
      })
      .fail(function() {
         $('.message').printMessage({message : 'Error save data', type : 'warning'});
      })
      .always(function() {
         $('.loading').hide();
         $('html, body').animate({ scrollTop: $(document).height() }, 2000);
      });
   
      return false;
   }); /*end btn save*/

   $('#btn_save_bank').click(function(){
      $('.message').fadeOut();
         
      var form_amuco_bank = $('#form_amuco_suppliers_bank');
      var data_post = form_amuco_bank.serializeArray();
      var save_type = $(this).attr('data-stype');

      data_post.push({name: 'save_type', value: save_type});
    
      $('.loading').show();
    
      $.ajax({
         url: BASE_URL + '/administrator/amuco_suppliers_bank/add_save',
         type: 'POST',
         dataType: 'json',
         data: data_post,
      })
      .done(function(res) {
         $('form').find('.form-group').removeClass('has-error');
         $('.steps li').removeClass('error');
         $('form').find('.error-input').remove();
         if(res.success) {
            $('#modal-bank').modal('hide');
            location.reload();
            if (save_type == 'back') {
               window.location.href = res.redirect;
               return;
            }
   
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            resetForm();
            $('.chosen option').prop('selected', false).trigger('chosen:updated');
               
         } else {
            if (res.errors) {
                  
                  $.each(res.errors, function(index, val) {
                     $('form #'+index).parents('.form-group').addClass('has-error');
                     $('form #'+index).parents('.form-group').find('small').prepend(`
                        <div class="error-input">`+val+`</div>
                        `);
                  });
                  $('.steps li').removeClass('error');
                  $('.content section').each(function(index, el) {
                     if ($(this).find('.has-error').length) {
                        $('.steps li:eq('+index+')').addClass('error').find('a').trigger('click');
                     }
                  });
            }
         $('.message').printMessage({message : res.message, type : 'warning'});
         }
   
      })
      .fail(function() {
         $('.message').printMessage({message : 'Error save data', type : 'warning'});
      })
      .always(function() {
         $('.loading').hide();
         $('html, body').animate({ scrollTop: $(document).height() }, 2000);
      });
   
      return false;
   }); /*end btn save*/


   $('#btn_update_visit').click(function(){
        $('.message').fadeOut();
            
        var form_amuco_visit_update = $('#form_amuco_visit_update');
        var data_post = form_amuco_visit_update.serializeArray();
        var save_type = $(this).attr('data-stype');
        data_post.push({name: 'save_type', value: save_type});
    
        $('.loading').show();
    
        $.ajax({
          url:BASE_URL + '/administrator/amuco_visits/edit_save/'+ $('#visit_id').val(),
          type: 'POST',
          dataType: 'json',
          data: data_post,
        })
        .done(function(res) {
          $('form').find('.form-group').removeClass('has-error');
          $('form').find('.error-input').remove();
          $('.steps li').removeClass('error');
          if(res.success) {
            $('#modal-visit-update').modal('hide');
            location.reload();
            var id = $('#amuco_suppliers_image_galery').find('li').attr('qq-file-id');
            if (save_type == 'back') {
              window.location.href = res.redirect;
              return;
            }
    
            $('.message').printMessage({message : res.message});
            $('.message').fadeIn();
            $('.data_file_uuid').val('');
    
          } else {
            if (res.errors) {
               parseErrorField(res.errors);
            }
            $('.message').printMessage({message : res.message, type : 'warning'});
          }
    
        })
        .fail(function() {
          $('.message').printMessage({message : 'Error save data', type : 'warning'});
        })
        .always(function() {
          $('.loading').hide();
          $('html, body').animate({ scrollTop: $(document).height() }, 2000);
        });
    
        return false;
      }); /*end btn save*/

   $('.remove-data').click(function(){

      var url = $(this).attr('data-href');

      swal({
         title: "<?= cclang('are_you_sure'); ?>",
         text: "<?= cclang('data_to_be_deleted_can_not_be_restored'); ?>",
         type: "warning",
         showCancelButton: true,
         confirmButtonColor: "#DD6B55",
         confirmButtonText: "<?= cclang('yes_delete_it'); ?>",
         cancelButtonText: "<?= cclang('no_cancel_plx'); ?>",
         closeOnConfirm: true,
         closeOnCancel: true
      },
      function(isConfirm){
         if (isConfirm) {
            document.location.href = url;            
         }
      });

      return false;
   });

});
</script>